{"components":{"security":{"bearerAuth":[]},"securitySchemes":{"bearerAuth":{"bearerFormat":"JWT","scheme":"bearer","type":"http"}}},"definitions":{"User":{"properties":{"login":{"default":"Spike","description":"The user's name.","type":"string"},"password":{"default":"Spiegel123","description":"The user's new password.","type":"string"}}}},"info":{"description":"powered by Flasgger","termsOfService":"/tos","title":"Auth Service","version":"0.0.1"},"openapi":"3.0.3","paths":{"/api/v1/login":{"post":{"consumes":["application/json"],"parameters":[{"description":"The user to authenticate.","in":"body","name":"user","schema":{"properties":{"login":{"type":"string"},"password":{"type":"string"}},"required":["login","password"],"type":"object"}}],"responses":{"200":{"description":"User successfully registered."},"401":{"description":"Invalid credentials."}},"summary":"User authenticate method.","tags":["auth"]}},"/api/v1/logout":{"delete":{"description":"Logout user.","responses":{"200":{"description":"User successfully logged in."}},"security":[{"bearerAuth":[]}],"summary":"User logout method.","tags":["auth"]}},"/api/v1/refresh":{"post":{"responses":{"200":{"description":"User role has been updated."}},"security":[{"bearerAuth":[]}],"summary":"Refresh token view.","tags":["token"]}},"/api/v1/register":{"post":{"consumes":["application/json"],"parameters":[{"description":"The user to register.","in":"body","name":"user","schema":{"properties":{"login":{"type":"string"},"password":{"type":"string"}},"required":["login","password"],"type":"object"}}],"responses":{"200":{"description":"User successfully registered."},"400":{"description":"Invalid data."},"409":{"description":"Such user exists."}},"summary":"User register method.","tags":["auth"]}},"/api/v1/roles":{"delete":{"parameters":[{"in":"path","name":"role_id","required":true,"type":"integer"}],"responses":{"204":{"description":"Role has been deleted."},"404":{"description":"Role has not been found."}},"security":[{"bearerAuth":[]}],"summary":"CRUD for roles, only available for admin","tags":["roles"]},"get":{"parameters":[{"in":"path","name":"role_id","required":true,"type":"integer"}],"responses":{"200":{"description":"Role has been updated."},"404":{"description":"Role has not been found."}},"security":[{"bearerAuth":[]}],"summary":"CRUD for roles, only available for admin","tags":["roles"]},"put":{"parameters":[{"in":"path","name":"role_id","required":true,"type":"integer"}],"responses":{"200":{"description":"Role has been updated."},"404":{"description":"Role has not been found."}},"security":[{"bearerAuth":[]}],"summary":"CRUD for roles, only available for admin","tags":["roles"]}},"/api/v1/roles/{int}":{"delete":{"parameters":[{"in":"path","name":"role_id","required":true,"type":"integer"}],"responses":{"204":{"description":"Role has been deleted."},"404":{"description":"Role has not been found."}},"security":[{"bearerAuth":[]}],"summary":"CRUD for roles, only available for admin","tags":["roles"]},"get":{"parameters":[{"in":"path","name":"role_id","required":true,"type":"integer"}],"responses":{"200":{"description":"Role has been updated."},"404":{"description":"Role has not been found."}},"security":[{"bearerAuth":[]}],"summary":"CRUD for roles, only available for admin","tags":["roles"]},"put":{"parameters":[{"in":"path","name":"role_id","required":true,"type":"integer"}],"responses":{"200":{"description":"Role has been updated."},"404":{"description":"Role has not been found."}},"security":[{"bearerAuth":[]}],"summary":"CRUD for roles, only available for admin","tags":["roles"]}},"/api/v1/smoke":{"get":{"responses":{"200":{"description":"health check","schema":{"properties":{"message":{"type":"string"}}}}},"summary":"Server health check","tags":["smoke"]}},"/api/v1/users":{"put":{"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/User"}}],"responses":{"200":{"description":"User data has been updated."},"400":{"description":"Invalid data."},"404":{"description":"User has not been found."}},"security":[{"bearerAuth":[]}],"summary":"users related view, e.g. change-password, change-login","tags":["users"]}},"/api/v1/users/log-history":{"get":{"responses":{"200":{"description":"User role has been updated."}},"security":[{"bearerAuth":[]}],"summary":"Displays history of user logging sessions","tags":["log-history"]}},"/api/v1/users/{user_id}/role/":{"delete":{"parameters":[{"in":"path","name":"user_id","required":true,"type":"uuid"}],"responses":{"204":{"description":"User role has been reset."},"404":{"description":"Role has not been found."}},"security":[{"bearerAuth":[]}],"summary":"Remove user role view","tags":["users-roles"]},"put":{"parameters":[{"in":"path","name":"role_id","required":true,"type":"integer"}],"responses":{"200":{"description":"User role has been updated."},"404":{"description":"Role has not been found."}},"security":[{"bearerAuth":[]}],"summary":"Manage user role view","tags":["users-roles"]}},"/api/v1/users/{user_id}/role/{role_id}":{"delete":{"parameters":[{"in":"path","name":"user_id","required":true,"type":"uuid"}],"responses":{"204":{"description":"User role has been reset."},"404":{"description":"Role has not been found."}},"security":[{"bearerAuth":[]}],"summary":"Remove user role view","tags":["users-roles"]},"put":{"parameters":[{"in":"path","name":"role_id","required":true,"type":"integer"}],"responses":{"200":{"description":"User role has been updated."},"404":{"description":"Role has not been found."}},"security":[{"bearerAuth":[]}],"summary":"Manage user role view","tags":["users-roles"]}}}}